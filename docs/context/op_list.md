# 算子列表

> 说明：
> - **算子目录**：目录名为算子名小写下划线形式，每个目录承载单个算子所有交付件，包括代码实现、example、文档等。
> - **算子执行位置**：大部分算子运行在AI Core上，少部分算子运行在AI CPU上。默认情况下，项目中提到的算子一般指AI Core算子。
> - 关于AI Core和AI CPU详细介绍请参见[《Ascend C算子开发》](https://hiascend.com/document/redirect/CannCommunityOpdevAscendC)中“概念原理和术语 > 硬件架构与数据处理原理”。

项目提供的所有算子分类和算子列表如下：

|  算子分类  |   算子目录   |    算子执行位置   |     说明     |
|---------|--------------|-------------------|-----------|
| math   | [abs](../../math/abs/README.md)  | AI Core  |  为输入张量的每一个元素取绝对值。 |
| math   | acosh     |           |            |
| math   | [add_lora](../../math/add_lora/README.md)                                     |      |  将输入x根据输入索引indices，分别和对应的weightA，weightB相乘，然后将结果累加到输入y上并输出。    |
| math   | [angle_v2](../../math/angle_v2/README.md)                                     |   |  为输入张量的每一个元素取角度（单位：弧度）。 |
| math   | asin                                                                          |                                                                                          |                                                                                          |
| math   | asinh                                                                         |                                                                                          |                                                                                          |
| math   | atan                                                                          |                                                                                          |                                                                                          |
| math   | atan2                                                                         |                                                                                          |                                                                                          |
| math   | atanh                                                                         |                                                                                          |                                                                                          |
| math   | axpy                                                                          |||
| math   | axpy_v2                                                                       |||
| math   | bincount                                                                      |                                                                                          |                                                                                          |
| math   | [cast](../../math/cast/README.md)                                             |  | 将输入tensor转换为指定的dtype类型。 |
| math   | ceil                                                                          |                                                                                          |                                                                                          |
| math   | cos                                                                           |                                                                                          |                                                                                          |
| math   | cosh                                                                          |                                                                                          |                                                                                          |
| math   | cummax                                                                        |                                                                                          |                                                                                          |
| math   | cummin                                                                        |                                                                                          |                                                                                          |
| math   | cumprod                                                                       |                                                                                          |                                                                                          |
| math   | [diag_v2](../../math/diag_v2/README.md)                                       |   |  根据输入的二维张量，提取由diagonal指定的对角线元素。 |
| math   | floor_div                                                                     |                                                                                          |                                                                                          |
| math   | [grouped_bias_add_grad](../../math/grouped_bias_add_grad/README.md)           |  | 分组偏置加法（GroupedBiasAdd）的反向传播。 |
| math   | hans_decode                                                                   |  | 对压缩后的张量基于PDF进行解码，同时基于mantissa重组恢复张量。 |
| math   | hans_encode                                                                   |   | 对输入张量指数位所在字节实现PDF统计，按PDF分布统计进行无损压缩。  |
| math   | [histogram_v2](../../math/histogram_v2/README.md)                             |  | 计算张量直方图。 |
| math   | [is_finite](../../math/is_finite/README.md)                                   |  | 判断张量中哪些元素是无限大值，即为inf、-inf。 |
| math   | [is_inf](../../math/is_inf/README.md)                                         |    |  判断张量中哪些元素是无限大值，即为inf、-inf。  |
| math   | [lin_space](../../math/lin_space/README.md)                                   |    |   生成一个等间隔数值序列。创建一个大小为steps的1维向量，其值从start起始到stop结束（包含）线性均匀分布。 |
| math   | logical_and                                                                   |                                                                                          |                                                                                          |
| math   | logical_not                                                                   |                                                                                          |                                                                                          |
| math   | logical_or                                                                    |                                                                                          |                                                                                          |
| math   | masked_scale                                                                  |                                                                                          |                                                                                          |
| math   | maximum                                                                       |                                                                                          |                                                                                          |
| math   | minimum                                                                       |                                                                                          |                                                                                          |
| math   | mod                                                                           |                                                                                          |                                                                                          |
| math   | mul_addn                                                                      |                                                                                          |                                                                                          |
| math   | neg                                                                           |                                                                                          |                                                                                          |
| math   | non_finite_check                                                              |                                                                                          |                                                                                          |
| math   | not_equal                                                                     |                                                                                          |                                                                                          |
| math   | one_hot                                                                       |                                                                                          |  对长度为n的输入self， 经过one_hot的计算后得到一个元素数量为n*k的输出out，其中k的值为numClasses。                                                                                        |
| math   | pdist                                                                         |                                                                                          |                                                                                          |
| math   | [pows](../../math/pows/README.md)                                             |  | 对input中的每个元素应用指数为exponent的幂运算。 |
| math   | rfft1_d                                                                       |                                                                                          |                                                                                          |
| math   | right_shift                                                                   |  | 对张量执行按位右移操作。 |
| math   | ring_attention_update                                                         |                                                                                          |                                                                                          |
| math   | search_sorted                                                                 |                                                                                          |                                                                                          |
| math   | [segsum](../../math/segsum/README.md)                                         | | 进行分段和计算。生成对角线为0的半可分矩阵，且上三角为-inf。|
| math   | sinkhorn                                                                      |                                                                                          |                                                                                          |
| math   | tanh_grad                                                                     |                                                                                          |                                                                                          |
| math   | [transform_bias_rescale_qkv](../../math/transform_bias_rescale_qkv/README.md) |  | 一个用于处理多头注意力机制中查询（Query）、键（Key）、值（Value）向量的接口，用于调整这些向量的偏置（Bias）和缩放（Rescale）因子。 |
| math   | trunc                                                                         |                                                                                          |                                                                                          |
| conversion   | as_strided                                                                    |                                                                                          |                                                                                          |
| conversion   | broadcast_to                                                                  |                                                                                          |                                                                                          |
| conversion   | circular_pad                                                                  |                                                                                          |                                                                                          |
| conversion   | circular_pad_grad                                                             |                                                                                          |                                                                                          |
| conversion   | clip_by_value_v2                                                              |                                                                                          |                                                                                          |
| conversion   | coalesce_sparse                                                               |                                                                                          |                                                                                          |
| conversion   | concat                                                                        |                                                                                          |                                                                                          |
| conversion   | contiguous                                                                    |                                                                                          |                                                                                          |
| conversion   | diag_flat                                                                     |                                                                                          |                                                                                          |
| conversion   | feeds_repeat                                                                  |                                                                                          |                                                                                          |
| conversion   | fill                                                                          |                                                                                          |                                                                                          |
| conversion   | fill_diagonal_v2                                                              |                                                                                          |                                                                                          |
| conversion   | flatten                                                                       |                                                                                          |                                                                                          |
| conversion   | im2col                                                                        |                                                                                          |                                                                                          |
| conversion   | [masked_fill](../../conversion/masked_fill/README.md)                         |                                      | 将输入Tensorx中mask位置为True的元素填充指定的值。mask必须与x的shape相同或可广播                                     |
| conversion   | masked_select_v3                                                              |                                                                                          |                                                                                          |
| conversion   | matmul_v2_compress_dequant                                                    |                                                                                          |                                                                                          |
| conversion   | pack                                                                          |                                                                                          |                                                                                          |
| conversion   | pad_v3                                                                        |                                                                                          |                                                                                          |
| conversion   | pad_v3_grad                                                                   |                                                                                          |                                                                                          |
| conversion   | pad_v3_grad_replicate                                                         |                                                                                          |                                                                                          |
| conversion   | pad_v3_grad_replication                                                       |                                                                                          |                                                                                          |
| conversion   | pad_v4_grad                                                                   |                                                                                          |                                                                                          |
| conversion   | [reflection_pad3d_grad](../../conversion/reflection_pad3d_grad/README.md)     |                                                          | 计算aclnnReflectionPad3d api的反向传播。                                                         |
| conversion   | reshape                                                                       |                                                                                          |                                                                                          |
| conversion   | roll                                                                          |                                                                                          |                                                                                          |
| conversion   | slice                                                                         |                                                                                          |                                                                                          |
| conversion   | split_v                                                                       |                                                                                          |                                                                                          |
| conversion   | squeeze                                                                       |                                                                                          |                                                                                          |
| conversion   | [stack_ball_query](../../conversion/stack_ball_query/README.md)               |                               | Stack Ball Query 是KNN的替代方案，用于查找点p1指定半径范围内的所有点(在实现中设置了K的上限)。                              |
| conversion   | strided_slice                                                                 |                                                                                          |                                                                                          |
| conversion   | [strided_slice_assign_v2](../../conversion/strided_slice_assign_v2/README.md) |                    | StridedSliceAssign是一种张量切片赋值操作，它可以将张量inputValue的内容，赋值给目标张量varRef中的指定位置。                   |
| conversion   | tensor_move                                                                   |                                                                                          |                                                                                          |
| conversion   | trans_data                                                                    |                                                                                          |                                                                                          |
| conversion   | transpose                                                                     |                                                                                          |                                                                                          |
| conversion   | [transpose_v2](../../conversion/transpose_v2/README.md)                       |                                              | 实现张量的维度置换（Permutation）操作，按照指定的顺序重新排列输入张量的维度。                                             |
| conversion   | [unfold_grad](../../conversion/unfold_grad/README.md)                         |                                                                  | 实现Unfold算子的反向功能，计算相应的梯度。                                                                 |
| conversion   | unsqueeze                                                                     |                                                                                          |                                                                                          |
| conversion   | view_copy                                                                     |                                                                                          |                                                                                          |
